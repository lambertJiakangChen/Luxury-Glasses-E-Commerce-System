{"ast":null,"code":"import _regeneratorRuntime from\"/Users/amandama/Documents/GitHub/EECS4413-Project/4413_luxuryglasses_estore-react/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/amandama/Documents/GitHub/EECS4413-Project/4413_luxuryglasses_estore-react/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import React,{useState}from'react';import{Link,useNavigate}from'react-router-dom';import'./drop-down.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function DropDown(props){var navigate=useNavigate();var data;var checkIsLoggedIn=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){var url,request;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:e.preventDefault();url=\"http://localhost:8080/getAccountDetails\";request=new XMLHttpRequest();// create a connection\nrequest.open('POST',url);request.send();// send the http request\nrequest.onload=function(){// When the response comes invoke the following function\ndata=request.responseText;// store reponse in variable and convert to JSON object\nif(data.length==0){return false;}else{return true;}};case 6:case\"end\":return _context.stop();}},_callee);}));return function checkIsLoggedIn(_x){return _ref.apply(this,arguments);};}();var NavigateToAccount=function NavigateToAccount(){if(checkIsLoggedIn()){navigate('/account');}else{alert(\"please login.\");}};var NavigateToSales=function NavigateToSales(){if(checkIsLoggedIn()){// is admin\nuserDataObj=JSON.parse(data);if(userDataObj.accountType==\"ADMIN\"){navigate('/monthlysale');}else{alert(\"not an admin.\");}}else{alert(\"please login.\");}};var NavigateToWebUsage=function NavigateToWebUsage(){if(checkIsLoggedIn()){// is admin\nuserDataObj=JSON.parse(data);if(userDataObj.accountType==\"ADMIN\"){navigate('/webusage');}else{alert(\"not an admin.\");}}else{alert(\"please login.\");}};var NavigateToLogin=function NavigateToLogin(){if(checkIsLoggedIn()){alert(\"already logged in.\");}else{navigate('/loginPage');}};var NavigateToLogout=function NavigateToLogout(){alert(\"perform logout\");};return/*#__PURE__*/_jsx(\"div\",{className:\"drop-down-sidebar \".concat(props.rootClassName,\" \"),children:/*#__PURE__*/_jsxs(\"nav\",{className:\"drop-down-nav\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"drop-down-text\",id:\"drop-down-account\",onClick:NavigateToAccount,children:\"Account\"}),/*#__PURE__*/_jsx(\"span\",{className:\"drop-down-text1\",id:\"drop-down-sales\",onClick:NavigateToSales,children:\"Sale Reports\"}),/*#__PURE__*/_jsx(\"span\",{className:\"drop-down-text2\",id:\"drop-down-webuse\",onClick:NavigateToWebUsage,children:\"Web Usage Reports\"}),/*#__PURE__*/_jsx(\"span\",{className:\"drop-down-text3\",id:\"drop-down-login\",onClick:NavigateToLogin,children:\"Login\"}),/*#__PURE__*/_jsx(\"span\",{className:\"drop-down-text4\",id:\"drop-down-logout\",onClick:NavigateToLogout,children:\"Logout\"})]})});}DropDown.defaultProps={rootClassName:''};export default DropDown;","map":{"version":3,"names":["React","useState","Link","useNavigate","jsx","_jsx","jsxs","_jsxs","DropDown","props","navigate","data","checkIsLoggedIn","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","e","url","request","wrap","_callee$","_context","prev","next","preventDefault","XMLHttpRequest","open","send","onload","responseText","length","stop","_x","apply","arguments","NavigateToAccount","alert","NavigateToSales","userDataObj","JSON","parse","accountType","NavigateToWebUsage","NavigateToLogin","NavigateToLogout","className","concat","rootClassName","children","id","onClick","defaultProps"],"sources":["/Users/amandama/Documents/GitHub/EECS4413-Project/4413_luxuryglasses_estore-react/src/components/drop-down.js"],"sourcesContent":["import React, { useState } from 'react'\nimport { Link, useNavigate } from 'react-router-dom'\n\nimport PropTypes from 'prop-types'\n\nimport './drop-down.css'\n\nfunction DropDown(props) {\n\n  const navigate = useNavigate();\n\n  var data;\n\n  const checkIsLoggedIn = async(e) => {\n    e.preventDefault();\n    var url=\"http://localhost:8080/getAccountDetails\";\n    var request = new XMLHttpRequest(); // create a connection\n    request.open('POST', url);\n    request.send(); // send the http request\n    request.onload = function() { // When the response comes invoke the following function\n      data = request.responseText; // store reponse in variable and convert to JSON object\n      if (data.length == 0) {\n        return false;\n      } else {\n        return true;\n      }\n    }\n  }\n\n  const NavigateToAccount = () => {\n    if (checkIsLoggedIn()) {\n      navigate('/account');\n    }\n    else {\n      alert(\"please login.\");\n    }\n  }\n\n  const NavigateToSales = () => {\n    if (checkIsLoggedIn()) {\n      // is admin\n      userDataObj = JSON.parse(data);\n      if (userDataObj.accountType == \"ADMIN\") {\n        navigate('/monthlysale');\n      }\n      else {\n        alert(\"not an admin.\");\n      }\n    }\n    else {\n      alert(\"please login.\");\n    }\n    \n    \n  }\n\n  const NavigateToWebUsage = () => {\n    if (checkIsLoggedIn()) {\n      // is admin\n      userDataObj = JSON.parse(data);\n      if (userDataObj.accountType == \"ADMIN\") {\n        navigate('/webusage');\n      }\n      else {\n        alert(\"not an admin.\");\n      }\n    }\n    else {\n      alert(\"please login.\");\n    }\n  }\n\n  const NavigateToLogin = () => {\n    if (checkIsLoggedIn()) {\n      alert(\"already logged in.\");\n    }\n    else {\n      navigate('/loginPage');\n    }\n  }\n\n  const NavigateToLogout = () => {\n    alert(\"perform logout\");\n  }\n\n  return (\n    <div className={`drop-down-sidebar ${props.rootClassName} `}>\n      <nav className=\"drop-down-nav\">\n        <span className=\"drop-down-text\" id=\"drop-down-account\" onClick={NavigateToAccount}>Account</span>\n\n        <span className=\"drop-down-text1\" id=\"drop-down-sales\" onClick={NavigateToSales}>Sale Reports</span>\n\n        <span className=\"drop-down-text2\" id=\"drop-down-webuse\" onClick={NavigateToWebUsage}>Web Usage Reports</span>\n\n        <span className=\"drop-down-text3\" id=\"drop-down-login\" onClick={NavigateToLogin}>Login</span>\n\n        <span className=\"drop-down-text4\" id=\"drop-down-logout\" onClick={NavigateToLogout}>Logout</span>\n      </nav>\n    </div>\n  )\n\n}\n\nDropDown.defaultProps = {\n  rootClassName: '',\n}\n\nDropDown.propTypes = {\n  rootClassName: PropTypes.string,\n}\n\nexport default DropDown\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}