{"ast":null,"code":"import React,{useState}from'react';import{Link,useNavigate}from'react-router-dom';import'./drop-down.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function DropDown(props){var navigate=useNavigate();var data;function checkIsLoggedIn(){// alert(\"checkIsLoggedIn...\");\nvar url=\"http://localhost:8080/getAccountDetails\";var request=new XMLHttpRequest();// create a connection\nrequest.open('POST',url);request.send();// send the http request\nrequest.onload=function(){// When the response comes invoke the following function\ndata=request.responseText;// store reponse in variable and convert to JSON object\n// alert(data);\nif(data.length==0){return false;}else{return true;}};}var NavigateToAccount=function NavigateToAccount(){checkIsLoggedIn();if(data.length!=0){navigate('/account');}else{alert(\"please login.\");}};var NavigateToSales=function NavigateToSales(){checkIsLoggedIn();if(data.length!=0){// is admin\nvar userDataObj=JSON.parse(data);if(userDataObj.accountType==\"ADMIN\"){navigate('/monthlysale');}else{alert(\"not an admin.\");}}else{alert(\"please login.\");}};var NavigateToWebUsage=function NavigateToWebUsage(){checkIsLoggedIn();if(data.length!=0){// is admin\nvar userDataObj=JSON.parse(data);if(userDataObj.accountType==\"ADMIN\"){navigate('/webusage');}else{alert(\"not an admin.\");}}else{alert(\"please login.\");}};var NavigateToLogin=function NavigateToLogin(){checkIsLoggedIn();if(data.length!=0){alert(\"already logged in.\");}else{navigate('/loginPage');}};var NavigateToLogout=function NavigateToLogout(){checkIsLoggedIn();if(data.length!=0){handleLogout();navigate('/loginPage');}else{alert(\"please login.\");}};function handleLogout(){// alert(\"checkIsLoggedIn...\");\nvar url=\"http://localhost:8080/logout\";var request=new XMLHttpRequest();// create a connection\nrequest.open('POST',url);request.send();// send the http request\nrequest.onload=function(){// When the response comes invoke the following function\ndata=request.responseText;// store reponse in variable and convert to JSON object\n// alert(data);\nif(data.includes(\"Logout Success\")){return true;}else{return false;}};}return/*#__PURE__*/_jsx(\"div\",{className:\"drop-down-sidebar \".concat(props.rootClassName,\" \"),children:/*#__PURE__*/_jsxs(\"nav\",{className:\"drop-down-nav\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"drop-down-text\",id:\"drop-down-account\",onClick:NavigateToAccount,children:\"Account\"}),/*#__PURE__*/_jsx(\"span\",{className:\"drop-down-text1\",id:\"drop-down-sales\",onClick:NavigateToSales,children:\"Sale Reports\"}),/*#__PURE__*/_jsx(\"span\",{className:\"drop-down-text2\",id:\"drop-down-webuse\",onClick:NavigateToWebUsage,children:\"Web Usage Reports\"}),/*#__PURE__*/_jsx(\"span\",{className:\"drop-down-text3\",id:\"drop-down-login\",onClick:NavigateToLogin,children:\"Login\"}),/*#__PURE__*/_jsx(\"span\",{className:\"drop-down-text4\",id:\"drop-down-logout\",onClick:NavigateToLogout,children:\"Logout\"})]})});}DropDown.defaultProps={rootClassName:''};export default DropDown;","map":{"version":3,"names":["React","useState","Link","useNavigate","jsx","_jsx","jsxs","_jsxs","DropDown","props","navigate","data","checkIsLoggedIn","url","request","XMLHttpRequest","open","send","onload","responseText","length","NavigateToAccount","alert","NavigateToSales","userDataObj","JSON","parse","accountType","NavigateToWebUsage","NavigateToLogin","NavigateToLogout","handleLogout","includes","className","concat","rootClassName","children","id","onClick","defaultProps"],"sources":["/Users/anushanarraidoo/Documents/GitHub/EECS4413-Project/4413_luxuryglasses_estore-react/src/components/drop-down.js"],"sourcesContent":["import React, { useState } from 'react'\nimport { Link, useNavigate } from 'react-router-dom'\n\nimport PropTypes from 'prop-types'\n\nimport './drop-down.css'\n\nfunction DropDown(props) {\n\n  const navigate = useNavigate();\n  var data;\n\n  function checkIsLoggedIn() {\n    // alert(\"checkIsLoggedIn...\");\n    var url=\"http://localhost:8080/getAccountDetails\";\n    var request = new XMLHttpRequest(); // create a connection\n    request.open('POST', url);\n    request.send(); // send the http request\n    request.onload = function() { // When the response comes invoke the following function\n      data = request.responseText; // store reponse in variable and convert to JSON object\n      // alert(data);\n      if (data.length == 0) {\n        return false;\n      } else {\n        return true;\n      }\n    }\n  }\n\n  const NavigateToAccount = () => {\n    checkIsLoggedIn();\n    if (data.length != 0) {\n      navigate('/account');\n    } else {\n      alert(\"please login.\");\n    }\n  }\n\n  const NavigateToSales = () => {\n    checkIsLoggedIn();\n    if (data.length != 0) {\n      // is admin\n      var userDataObj = JSON.parse(data);\n      if (userDataObj.accountType == \"ADMIN\") {\n        navigate('/monthlysale');\n      } else {\n        alert(\"not an admin.\");\n      }\n    }\n    else {\n      alert(\"please login.\");\n    }\n    \n    \n  }\n\n  const NavigateToWebUsage = () => {\n    checkIsLoggedIn();\n    if (data.length != 0) {\n      // is admin\n      var userDataObj = JSON.parse(data);\n      if (userDataObj.accountType == \"ADMIN\") {\n        navigate('/webusage');\n      } else {\n        alert(\"not an admin.\");\n      }\n    }\n    else {\n      alert(\"please login.\");\n    }\n  }\n\n  const NavigateToLogin = () => {\n    checkIsLoggedIn();\n    if (data.length != 0) {\n      alert(\"already logged in.\");\n    } else {\n      navigate('/loginPage');\n    }\n  }\n\n  const NavigateToLogout = () => {\n    checkIsLoggedIn();\n    if (data.length != 0) {\n      handleLogout();\n      navigate('/loginPage');\n    } else {\n      alert(\"please login.\");\n    }\n  }\n\n  function handleLogout() {\n    // alert(\"checkIsLoggedIn...\");\n    var url=\"http://localhost:8080/logout\";\n    var request = new XMLHttpRequest(); // create a connection\n    request.open('POST', url);\n    request.send(); // send the http request\n    request.onload = function() { // When the response comes invoke the following function\n      data = request.responseText; // store reponse in variable and convert to JSON object\n      // alert(data);\n      if (data.includes(\"Logout Success\")) {\n        return true;\n      } else {\n        return false;\n      }\n    }\n  }\n\n  return (\n    <div className={`drop-down-sidebar ${props.rootClassName} `}>\n      <nav className=\"drop-down-nav\">\n        <span className=\"drop-down-text\" id=\"drop-down-account\" onClick={NavigateToAccount}>Account</span>\n\n        <span className=\"drop-down-text1\" id=\"drop-down-sales\" onClick={NavigateToSales}>Sale Reports</span>\n\n        <span className=\"drop-down-text2\" id=\"drop-down-webuse\" onClick={NavigateToWebUsage}>Web Usage Reports</span>\n\n        <span className=\"drop-down-text3\" id=\"drop-down-login\" onClick={NavigateToLogin}>Login</span>\n\n        <span className=\"drop-down-text4\" id=\"drop-down-logout\" onClick={NavigateToLogout}>Logout</span>\n      </nav>\n    </div>\n  )\n\n}\n\nDropDown.defaultProps = {\n  rootClassName: '',\n}\n\nDropDown.propTypes = {\n  rootClassName: PropTypes.string,\n}\n\nexport default DropDown\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}