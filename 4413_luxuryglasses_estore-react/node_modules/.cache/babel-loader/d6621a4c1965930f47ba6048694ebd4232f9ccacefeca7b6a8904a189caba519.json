{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/lambert/Desktop/EECS4413-Project/4413_luxuryglasses_estore-react/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/lambert/Desktop/EECS4413-Project/4413_luxuryglasses_estore-react/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import React from'react';import{Link,useNavigate}from'react-router-dom';import{Helmet}from'react-helmet';import Navbar from'../components/navbar';import Footer from'../components/footer';import'./edit-password.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function EditPassword(props){var navigate=useNavigate();// HANDLE EDIT PASSWORD ----------------------------------------------------------------------------------------\nvar submitEditPasswordHandler=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){var oldPass,newPass,url,request;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:e.preventDefault();oldPass=document.getElementById(\"edit-old-pass-input\").value;newPass=document.getElementById(\"edit-new-pass-input\").value;if(validatePassword(newPass)){_context.next=5;break;}return _context.abrupt(\"return\");case 5:url=\"http://localhost:8080/updatePassword?oldPass=\"+oldPass+\"&newPass=\"+newPass;request=new XMLHttpRequest();// create a connection\nrequest.open('POST',url);request.send();// send the http request\nrequest.onload=function(){// When the response comes invoke the following function\nvar data=request.responseText;// store reponse in variable and convert to JSON object\nif(data.includes(\"Success\")){alert(data);navigate('/account');}else if(data.includes(\"Could not update password.\")){alert(data);}else{alert(\"Error occurred: \"+data);}};case 10:case\"end\":return _context.stop();}},_callee);}));return function submitEditPasswordHandler(_x){return _ref.apply(this,arguments);};}();function validatePassword(password){var passOK=true;// validate password is at least 6 characters long\nif(password.length<6){alert(\"Password must be at least 6 chracters long.\");return false;}// validate password has alphanumeric\nvar expr=/^[a-zA-Z0-9]*$/;if(!expr.test(password)){alert(\"Only Alphabets, Numbers, Dot and Underscore allowed in Password.\");return false;}return passOK;}return/*#__PURE__*/_jsxs(\"div\",{className:\"edit-password-container\",children:[/*#__PURE__*/_jsxs(Helmet,{children:[/*#__PURE__*/_jsx(\"title\",{children:\"EditPassword - 4413_LuxuryGlasses_EStore\"}),/*#__PURE__*/_jsx(\"meta\",{property:\"og:title\",content:\"EditPassword - 4413_LuxuryGlasses_EStore\"})]}),/*#__PURE__*/_jsx(Navbar,{}),/*#__PURE__*/_jsx(\"div\",{className:\"edit-password-main\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"edit-password-container1\",children:[/*#__PURE__*/_jsx(\"h1\",{id:\"title-account-view\",className:\"edit-password-text\",children:\"MY ACCOUNT\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"edit-password-container2\",children:[/*#__PURE__*/_jsx(\"h3\",{id:\"edit-fname-title\",className:\"edit-password-text1\",children:\"Edit Password:\\xA0\"}),/*#__PURE__*/_jsxs(\"form\",{className:\"edit-password-form\",onSubmit:submitEditPasswordHandler,children:[/*#__PURE__*/_jsxs(\"label\",{id:\"edit-old-pass-label\",htmlFor:\"edit-old-pass-input\",className:\"edit-password-text2\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"CURRENT PASSWORD\"}),/*#__PURE__*/_jsx(\"br\",{})]}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",id:\"edit-old-pass-input\",name:\"oldPass\",required:true,placeholder:\"current password\",className:\"edit-password-textinput input\"}),/*#__PURE__*/_jsxs(\"label\",{id:\"edit-new-pass-label\",htmlFor:\"edit-new-pass-input\",className:\"edit-password-text5\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"NEW PASSWORD\"}),/*#__PURE__*/_jsx(\"br\",{})]}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",id:\"edit-new-pass-input\",name:\"newPass\",required:true,placeholder:\"new password\",className:\"edit-password-textinput1 input\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"edit-password-button button\",children:\"CONFIRM\"})]}),/*#__PURE__*/_jsx(Link,{to:\"/account\",className:\"edit-password-navlink button\",children:\"CANCEL\"})]})]})}),/*#__PURE__*/_jsx(Footer,{})]});}export default EditPassword;","map":{"version":3,"names":["React","Link","useNavigate","Helmet","Navbar","Footer","jsx","_jsx","jsxs","_jsxs","EditPassword","props","navigate","submitEditPasswordHandler","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","e","oldPass","newPass","url","request","wrap","_callee$","_context","prev","next","preventDefault","document","getElementById","value","validatePassword","abrupt","XMLHttpRequest","open","send","onload","data","responseText","includes","alert","stop","_x","apply","arguments","password","passOK","length","expr","test","className","children","property","content","id","onSubmit","htmlFor","type","name","required","placeholder","to"],"sources":["C:/Users/lambert/Desktop/EECS4413-Project/4413_luxuryglasses_estore-react/src/views/edit-password.js"],"sourcesContent":["import React from 'react'\r\nimport { Link, useNavigate } from 'react-router-dom'\r\n\r\nimport { Helmet } from 'react-helmet'\r\n\r\nimport Navbar from '../components/navbar'\r\nimport Footer from '../components/footer'\r\nimport './edit-password.css'\r\n\r\nfunction EditPassword(props) {\r\n\r\n  const navigate = useNavigate();\r\n\r\n  // HANDLE EDIT PASSWORD ----------------------------------------------------------------------------------------\r\n  const submitEditPasswordHandler = async(e) => {\r\n    e.preventDefault();\r\n\r\n  let oldPass = document.getElementById(\"edit-old-pass-input\").value;\r\n  let newPass = document.getElementById(\"edit-new-pass-input\").value;\r\n\r\n    if (!validatePassword(newPass)) {\r\n      return;\r\n    }\r\n\r\n    var url=\"http://localhost:8080/updatePassword?oldPass=\" + oldPass + \"&newPass=\" + newPass;\r\n    var request = new XMLHttpRequest(); // create a connection\r\n    request.open('POST', url);\r\n    request.send(); // send the http request\r\n    request.onload = function() { // When the response comes invoke the following function\r\n      let data = request.responseText; // store reponse in variable and convert to JSON object\r\n      if (data.includes(\"Success\")) {\r\n        alert(data);\r\n        navigate('/account');\r\n      } else if (data.includes(\"Could not update password.\")) {\r\n        alert(data);\r\n      } else {\r\n        alert(\"Error occurred: \" + data);\r\n      }\r\n    }\r\n  }\r\n\r\n  function validatePassword(password) {\r\n    var passOK = true;\r\n\r\n    // validate password is at least 6 characters long\r\n    if (password.length < 6) {\r\n      alert(\"Password must be at least 6 chracters long.\");\r\n      return false;\r\n    }\r\n\r\n    // validate password has alphanumeric\r\n    var expr = /^[a-zA-Z0-9]*$/;\r\n    if (!expr.test(password)) {\r\n      alert(\"Only Alphabets, Numbers, Dot and Underscore allowed in Password.\");\r\n      return false;\r\n    }\r\n    \r\n    return passOK;\r\n  }\r\n\r\n  return (\r\n    <div className=\"edit-password-container\">\r\n      <Helmet>\r\n        <title>EditPassword - 4413_LuxuryGlasses_EStore</title>\r\n        <meta\r\n          property=\"og:title\"\r\n          content=\"EditPassword - 4413_LuxuryGlasses_EStore\"\r\n        />\r\n      </Helmet>\r\n      <Navbar></Navbar>\r\n      <div className=\"edit-password-main\">\r\n        <div className=\"edit-password-container1\">\r\n          <h1 id=\"title-account-view\" className=\"edit-password-text\">\r\n            MY ACCOUNT\r\n          </h1>\r\n          <div className=\"edit-password-container2\">\r\n            <h3 id=\"edit-fname-title\" className=\"edit-password-text1\">\r\n              Edit Password:Â \r\n            </h3>\r\n            <form \r\n              className=\"edit-password-form\"\r\n              onSubmit={submitEditPasswordHandler}\r\n              >\r\n              <label\r\n                id=\"edit-old-pass-label\"\r\n                htmlFor=\"edit-old-pass-input\"\r\n                className=\"edit-password-text2\"\r\n              >\r\n                <span>CURRENT PASSWORD</span>\r\n                <br></br>\r\n              </label>\r\n              <input\r\n                type=\"password\"\r\n                id=\"edit-old-pass-input\"\r\n                name=\"oldPass\"\r\n                required\r\n                placeholder=\"current password\"\r\n                className=\"edit-password-textinput input\"\r\n              />\r\n              <label\r\n                id=\"edit-new-pass-label\"\r\n                htmlFor=\"edit-new-pass-input\"\r\n                className=\"edit-password-text5\"\r\n              >\r\n                <span>NEW PASSWORD</span>\r\n                <br></br>\r\n              </label>\r\n              <input\r\n                type=\"password\"\r\n                id=\"edit-new-pass-input\"\r\n                name=\"newPass\"\r\n                required\r\n                placeholder=\"new password\"\r\n                className=\"edit-password-textinput1 input\"\r\n              />\r\n              <button type=\"submit\" className=\"edit-password-button button\">\r\n                CONFIRM\r\n              </button>\r\n            </form>\r\n            <Link to=\"/account\" className=\"edit-password-navlink button\">\r\n              CANCEL\r\n            </Link>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <Footer></Footer>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default EditPassword\r\n"],"mappings":"8UAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,OAASC,IAAI,CAAEC,WAAW,KAAQ,kBAAkB,CAEpD,OAASC,MAAM,KAAQ,cAAc,CAErC,MAAO,CAAAC,MAAM,KAAM,sBAAsB,CACzC,MAAO,CAAAC,MAAM,KAAM,sBAAsB,CACzC,MAAO,qBAAqB,QAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAE5B,QAAS,CAAAC,YAAYA,CAACC,KAAK,CAAE,CAE3B,GAAM,CAAAC,QAAQ,CAAGV,WAAW,EAAE,CAE9B;AACA,GAAM,CAAAW,yBAAyB,6BAAAC,IAAA,CAAAC,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAG,SAAAC,QAAMC,CAAC,MAAAC,OAAA,CAAAC,OAAA,CAAAC,GAAA,CAAAC,OAAA,QAAAP,mBAAA,GAAAQ,IAAA,UAAAC,SAAAC,QAAA,iBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,SACvCT,CAAC,CAACU,cAAc,EAAE,CAEhBT,OAAO,CAAGU,QAAQ,CAACC,cAAc,CAAC,qBAAqB,CAAC,CAACC,KAAK,CAC9DX,OAAO,CAAGS,QAAQ,CAACC,cAAc,CAAC,qBAAqB,CAAC,CAACC,KAAK,IAE3DC,gBAAgB,CAACZ,OAAO,CAAC,EAAAK,QAAA,CAAAE,IAAA,iBAAAF,QAAA,CAAAQ,MAAA,kBAI1BZ,GAAG,CAAC,+CAA+C,CAAGF,OAAO,CAAG,WAAW,CAAGC,OAAO,CACrFE,OAAO,CAAG,GAAI,CAAAY,cAAc,EAAE,CAAE;AACpCZ,OAAO,CAACa,IAAI,CAAC,MAAM,CAAEd,GAAG,CAAC,CACzBC,OAAO,CAACc,IAAI,EAAE,CAAE;AAChBd,OAAO,CAACe,MAAM,CAAG,UAAW,CAAE;AAC5B,GAAI,CAAAC,IAAI,CAAGhB,OAAO,CAACiB,YAAY,CAAE;AACjC,GAAID,IAAI,CAACE,QAAQ,CAAC,SAAS,CAAC,CAAE,CAC5BC,KAAK,CAACH,IAAI,CAAC,CACX3B,QAAQ,CAAC,UAAU,CAAC,CACtB,CAAC,IAAM,IAAI2B,IAAI,CAACE,QAAQ,CAAC,4BAA4B,CAAC,CAAE,CACtDC,KAAK,CAACH,IAAI,CAAC,CACb,CAAC,IAAM,CACLG,KAAK,CAAC,kBAAkB,CAAGH,IAAI,CAAC,CAClC,CACF,CAAC,0BAAAb,QAAA,CAAAiB,IAAA,MAAAzB,OAAA,GACF,kBAzBK,CAAAL,yBAAyBA,CAAA+B,EAAA,SAAA9B,IAAA,CAAA+B,KAAA,MAAAC,SAAA,OAyB9B,CAED,QAAS,CAAAb,gBAAgBA,CAACc,QAAQ,CAAE,CAClC,GAAI,CAAAC,MAAM,CAAG,IAAI,CAEjB;AACA,GAAID,QAAQ,CAACE,MAAM,CAAG,CAAC,CAAE,CACvBP,KAAK,CAAC,6CAA6C,CAAC,CACpD,MAAO,MAAK,CACd,CAEA;AACA,GAAI,CAAAQ,IAAI,CAAG,gBAAgB,CAC3B,GAAI,CAACA,IAAI,CAACC,IAAI,CAACJ,QAAQ,CAAC,CAAE,CACxBL,KAAK,CAAC,kEAAkE,CAAC,CACzE,MAAO,MAAK,CACd,CAEA,MAAO,CAAAM,MAAM,CACf,CAEA,mBACEvC,KAAA,QAAK2C,SAAS,CAAC,yBAAyB,CAAAC,QAAA,eACtC5C,KAAA,CAACN,MAAM,EAAAkD,QAAA,eACL9C,IAAA,UAAA8C,QAAA,CAAO,0CAAwC,EAAQ,cACvD9C,IAAA,SACE+C,QAAQ,CAAC,UAAU,CACnBC,OAAO,CAAC,0CAA0C,EAClD,GACK,cACThD,IAAA,CAACH,MAAM,IAAU,cACjBG,IAAA,QAAK6C,SAAS,CAAC,oBAAoB,CAAAC,QAAA,cACjC5C,KAAA,QAAK2C,SAAS,CAAC,0BAA0B,CAAAC,QAAA,eACvC9C,IAAA,OAAIiD,EAAE,CAAC,oBAAoB,CAACJ,SAAS,CAAC,oBAAoB,CAAAC,QAAA,CAAC,YAE3D,EAAK,cACL5C,KAAA,QAAK2C,SAAS,CAAC,0BAA0B,CAAAC,QAAA,eACvC9C,IAAA,OAAIiD,EAAE,CAAC,kBAAkB,CAACJ,SAAS,CAAC,qBAAqB,CAAAC,QAAA,CAAC,oBAE1D,EAAK,cACL5C,KAAA,SACE2C,SAAS,CAAC,oBAAoB,CAC9BK,QAAQ,CAAE5C,yBAA0B,CAAAwC,QAAA,eAEpC5C,KAAA,UACE+C,EAAE,CAAC,qBAAqB,CACxBE,OAAO,CAAC,qBAAqB,CAC7BN,SAAS,CAAC,qBAAqB,CAAAC,QAAA,eAE/B9C,IAAA,SAAA8C,QAAA,CAAM,kBAAgB,EAAO,cAC7B9C,IAAA,SAAS,GACH,cACRA,IAAA,UACEoD,IAAI,CAAC,UAAU,CACfH,EAAE,CAAC,qBAAqB,CACxBI,IAAI,CAAC,SAAS,CACdC,QAAQ,MACRC,WAAW,CAAC,kBAAkB,CAC9BV,SAAS,CAAC,+BAA+B,EACzC,cACF3C,KAAA,UACE+C,EAAE,CAAC,qBAAqB,CACxBE,OAAO,CAAC,qBAAqB,CAC7BN,SAAS,CAAC,qBAAqB,CAAAC,QAAA,eAE/B9C,IAAA,SAAA8C,QAAA,CAAM,cAAY,EAAO,cACzB9C,IAAA,SAAS,GACH,cACRA,IAAA,UACEoD,IAAI,CAAC,UAAU,CACfH,EAAE,CAAC,qBAAqB,CACxBI,IAAI,CAAC,SAAS,CACdC,QAAQ,MACRC,WAAW,CAAC,cAAc,CAC1BV,SAAS,CAAC,gCAAgC,EAC1C,cACF7C,IAAA,WAAQoD,IAAI,CAAC,QAAQ,CAACP,SAAS,CAAC,6BAA6B,CAAAC,QAAA,CAAC,SAE9D,EAAS,GACJ,cACP9C,IAAA,CAACN,IAAI,EAAC8D,EAAE,CAAC,UAAU,CAACX,SAAS,CAAC,8BAA8B,CAAAC,QAAA,CAAC,QAE7D,EAAO,GACH,GACF,EACF,cACN9C,IAAA,CAACF,MAAM,IAAU,GACb,CAEV,CAEA,cAAe,CAAAK,YAAY"},"metadata":{},"sourceType":"module","externalDependencies":[]}