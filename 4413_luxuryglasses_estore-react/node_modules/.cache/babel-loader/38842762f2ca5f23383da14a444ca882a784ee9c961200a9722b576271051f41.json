{"ast":null,"code":"import _regeneratorRuntime from\"/Users/amandama/Documents/GitHub/EECS4413-Project/4413_luxuryglasses_estore-react/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/amandama/Documents/GitHub/EECS4413-Project/4413_luxuryglasses_estore-react/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import React from'react';import{Link,useNavigate}from'react-router-dom';import{Helmet}from'react-helmet';import Navbar from'../components/navbar';import Footer from'../components/footer';import'./edit-user.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function EditUser(props){var navigate=useNavigate();// HANDLE EDIT USERNAME ----------------------------------------------------------------------------------------\nvar submitEditUsernameHandler=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){var user,url,request;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:e.preventDefault();user=document.getElementById(\"edit-user-input\").value;alert(\"submitEditUsernameHandler\");if(validateUsername(username)){alert(validateUsername(username));url=\"http://localhost:8080/updateUsername?username=\"+user;request=new XMLHttpRequest();// create a connection\nrequest.open('POST',url);request.send();// send the http request\nrequest.onload=function(){// When the response comes invoke the following function\nvar data=request.responseText;// store reponse in variable and convert to JSON object\nif(data.includes(\"Success\")){alert(data);navigate('/account');}else if(data.includes(\"Could not update username.\")){alert(data);}else{alert(\"Error occurred: \"+data);}};}case 4:case\"end\":return _context.stop();}},_callee);}));return function submitEditUsernameHandler(_x){return _ref.apply(this,arguments);};}();function validateUsername(username){var userOK=true;if(username.legnth==0){alert(\"Username must be filled.\");return false;}// check username is between 1 and 30\nif(username.length<1||username.legnth>30){alert(\"Username must be between 1 and 30 chracters long.\");return false;}// check if username has letters, numbers and underscores only\nvar expr=/^[a-zA-Z0-9_]*$/;if(!expr.test(username)){alert(\"Only Alphabets, Numbers and Underscore allowed in Username.\");return false;}alert(userOK);return userOK;}// -----------------------------------------------------------------------------------------------------------------\nreturn/*#__PURE__*/_jsxs(\"div\",{className:\"edit-user-container\",children:[/*#__PURE__*/_jsxs(Helmet,{children:[/*#__PURE__*/_jsx(\"title\",{children:\"EditUser - 4413_LuxuryGlasses_EStore\"}),/*#__PURE__*/_jsx(\"meta\",{property:\"og:title\",content:\"EditUser - 4413_LuxuryGlasses_EStore\"})]}),/*#__PURE__*/_jsx(Navbar,{}),/*#__PURE__*/_jsx(\"div\",{className:\"edit-user-main\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"edit-user-container1\",children:[/*#__PURE__*/_jsx(\"h1\",{id:\"title-account-view\",className:\"edit-user-text\",children:\"MY ACCOUNT\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"edit-user-container2\",children:[/*#__PURE__*/_jsx(\"h3\",{id:\"edit-user-title\",className:\"edit-user-text1\",children:\"Edit Username:\\xA0\"}),/*#__PURE__*/_jsxs(\"form\",{className:\"edit-user-form\",onSubmit:submitEditUsernameHandler,children:[/*#__PURE__*/_jsxs(\"label\",{id:\"edit-user-label\",htmlFor:\"edit-user-input\",className:\"edit-user-text2\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"NEW USERNAME\"}),/*#__PURE__*/_jsx(\"br\",{})]}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"edit-user-input\",name:\"username\",required:true,placeholder:\"new username\",className:\"edit-user-textinput input\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"edit-user-button button\",children:\"CONFIRM\"})]}),/*#__PURE__*/_jsx(Link,{to:\"/account\",className:\"edit-user-navlink button\",children:\"CANCEL\"})]})]})}),/*#__PURE__*/_jsx(Footer,{})]});}export default EditUser;","map":{"version":3,"names":["React","Link","useNavigate","Helmet","Navbar","Footer","jsx","_jsx","jsxs","_jsxs","EditUser","props","navigate","submitEditUsernameHandler","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","e","user","url","request","wrap","_callee$","_context","prev","next","preventDefault","document","getElementById","value","alert","validateUsername","username","XMLHttpRequest","open","send","onload","data","responseText","includes","stop","_x","apply","arguments","userOK","legnth","length","expr","test","className","children","property","content","id","onSubmit","htmlFor","type","name","required","placeholder","to"],"sources":["/Users/amandama/Documents/GitHub/EECS4413-Project/4413_luxuryglasses_estore-react/src/views/edit-user.js"],"sourcesContent":["import React from 'react'\nimport { Link, useNavigate } from 'react-router-dom'\n\nimport { Helmet } from 'react-helmet'\n\nimport Navbar from '../components/navbar'\nimport Footer from '../components/footer'\nimport './edit-user.css'\n\nfunction EditUser(props) {\n\n  const navigate = useNavigate();\n\n  // HANDLE EDIT USERNAME ----------------------------------------------------------------------------------------\n  const submitEditUsernameHandler = async(e) => {\n    e.preventDefault();\n\n    let user = document.getElementById(\"edit-user-input\").value;\n\n    alert(\"submitEditUsernameHandler\");\n    if (validateUsername(username)) {\n      alert(validateUsername(username));\n      var url=\"http://localhost:8080/updateUsername?username=\" + user;\n      var request = new XMLHttpRequest(); // create a connection\n      request.open('POST', url);\n      request.send(); // send the http request\n      request.onload = function() { // When the response comes invoke the following function\n        let data = request.responseText; // store reponse in variable and convert to JSON object\n        if (data.includes(\"Success\")) {\n          alert(data);\n          navigate('/account');\n        } else if (data.includes(\"Could not update username.\")) {\n          alert(data);\n        } else {\n          alert(\"Error occurred: \" + data);\n        }\n      }\n\n    }\n  }\n\n  function validateUsername(username) {\n    var userOK = true;\n\n    if (username.legnth == 0) {\n      alert(\"Username must be filled.\");\n      return false;\n    }\n    \n    // check username is between 1 and 30\n    if (username.length < 1 || username.legnth > 30) {\n      alert(\"Username must be between 1 and 30 chracters long.\");\n      return false;\n    }\n\n    // check if username has letters, numbers and underscores only\n    var expr = /^[a-zA-Z0-9_]*$/;\n    if (!expr.test(username)) {\n      alert(\"Only Alphabets, Numbers and Underscore allowed in Username.\");\n      return false;\n    }\n    \n    alert(userOK);\n    return userOK;\n  }\n\n  // -----------------------------------------------------------------------------------------------------------------\n  \n\n  return (\n    <div className=\"edit-user-container\">\n      <Helmet>\n        <title>EditUser - 4413_LuxuryGlasses_EStore</title>\n        <meta\n          property=\"og:title\"\n          content=\"EditUser - 4413_LuxuryGlasses_EStore\"\n        />\n      </Helmet>\n      <Navbar></Navbar>\n      <div className=\"edit-user-main\">\n        <div className=\"edit-user-container1\">\n          <h1 id=\"title-account-view\" className=\"edit-user-text\">\n            MY ACCOUNT\n          </h1>\n          <div className=\"edit-user-container2\">\n            <h3 id=\"edit-user-title\" className=\"edit-user-text1\">\n              Edit Username:Â \n            </h3>\n            <form \n              className=\"edit-user-form\"\n              onSubmit={submitEditUsernameHandler}\n              >\n              <label\n                id=\"edit-user-label\"\n                htmlFor=\"edit-user-input\"\n                className=\"edit-user-text2\"\n              >\n                <span>NEW USERNAME</span>\n                <br></br>\n              </label>\n              <input\n                type=\"text\"\n                id=\"edit-user-input\"\n                name=\"username\"\n                required\n                placeholder=\"new username\"\n                className=\"edit-user-textinput input\"\n              />\n              <button type=\"submit\" className=\"edit-user-button button\">\n                CONFIRM\n              </button>\n            </form>\n            <Link to=\"/account\" className=\"edit-user-navlink button\">\n              CANCEL\n            </Link>\n          </div>\n        </div>\n      </div>\n      <Footer></Footer>\n    </div>\n  )\n}\n\nexport default EditUser\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}