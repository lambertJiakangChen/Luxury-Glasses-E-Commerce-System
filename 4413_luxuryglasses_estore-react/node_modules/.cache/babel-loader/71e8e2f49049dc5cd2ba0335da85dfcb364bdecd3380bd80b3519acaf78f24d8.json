{"ast":null,"code":"import _regeneratorRuntime from\"/Users/amandama/Documents/GitHub/EECS4413-Project/4413_luxuryglasses_estore-react/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/amandama/Documents/GitHub/EECS4413-Project/4413_luxuryglasses_estore-react/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import React,{useState}from'react';import{Link}from'react-router-dom';import'./drop-down.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var userDataObj;var getAccountDetails=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){var url,request;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:e.preventDefault();url=\"http://localhost:8080/getAccountDetails\";request=new XMLHttpRequest();// create a connection\nrequest.open('POST',url);request.send();// send the http request\nrequest.onload=function(){// When the response comes invoke the following function\nvar data=request.responseText;// store reponse in variable and convert to JSON object\nif(data.length==0){// if not logged in >> show login tab only\ndocument.getElementById(\"drop-down-account\").style.display='none';document.getElementById(\"drop-down-sales\").style.display='none';document.getElementById(\"drop-down-webuse\").style.display='none';document.getElementById(\"drop-down-logout\").style.display='none';}else{userDataObj=JSON.parse(data);// document.getElementById(\"drop-down-account\").style.display = 'block';\n// document.getElementById(\"drop-down-sales\").style.display = 'block';\n// document.getElementById(\"drop-down-webuse\").style.display = 'block';\n// document.getElementById(\"drop-down-login\").style.display = 'block';\n// document.getElementById(\"drop-down-logout\").style.display = 'block';\n// if logged in >> hide login tab\ndocument.getElementById(\"drop-down-login\").style.display='none';// id not admin >> hide admin tabs\nif(userDataObj.accountType==\"REGULAR\"){document.getElementById(\"register-admin-form\").style.display='none';document.getElementById(\"drop-down-sales\").style.display='none';document.getElementById(\"drop-down-webuse\").style.display='none';}}};case 6:case\"end\":return _context.stop();}},_callee);}));return function getAccountDetails(_x){return _ref.apply(this,arguments);};}();var DropDown=function DropDown(props){return/*#__PURE__*/_jsx(\"div\",{className:\"drop-down-sidebar \".concat(props.rootClassName,\" \"),onLoad:getAccountDetails,children:/*#__PURE__*/_jsxs(\"nav\",{className:\"drop-down-nav\",children:[/*#__PURE__*/_jsx(Link,{to:\"/account\",className:\"drop-down-text\",id:\"drop-down-account\",children:/*#__PURE__*/_jsx(\"span\",{children:\"Account\"})}),/*#__PURE__*/_jsx(Link,{to:\"/monthlysale\",className:\"drop-down-text1\",id:\"drop-down-sales\",children:/*#__PURE__*/_jsx(\"span\",{children:\"Sale Reports\"})}),/*#__PURE__*/_jsx(Link,{to:\"/webusage\",className:\"drop-down-text2\",id:\"drop-down-webuse\",children:/*#__PURE__*/_jsx(\"span\",{children:\"Web Usage Reports\"})}),/*#__PURE__*/_jsx(Link,{to:\"/loginPage\",className:\"drop-down-text3\",id:\"drop-down-login\",children:/*#__PURE__*/_jsx(\"span\",{children:\"Login\"})}),/*#__PURE__*/_jsx(\"span\",{className:\"drop-down-text4\",id:\"drop-down-logout\",children:\"Logout\"})]})});};DropDown.defaultProps={rootClassName:''};export default DropDown;","map":{"version":3,"names":["React","useState","Link","jsx","_jsx","jsxs","_jsxs","userDataObj","getAccountDetails","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","e","url","request","wrap","_callee$","_context","prev","next","preventDefault","XMLHttpRequest","open","send","onload","data","responseText","length","document","getElementById","style","display","JSON","parse","accountType","stop","_x","apply","arguments","DropDown","props","className","concat","rootClassName","onLoad","children","to","id","defaultProps"],"sources":["/Users/amandama/Documents/GitHub/EECS4413-Project/4413_luxuryglasses_estore-react/src/components/drop-down.js"],"sourcesContent":["import React, { useState } from 'react'\nimport { Link } from 'react-router-dom'\n\nimport PropTypes from 'prop-types'\n\nimport './drop-down.css'\n\nvar userDataObj;\n\nconst getAccountDetails = async(e) => {\n  e.preventDefault();\n\n  var url=\"http://localhost:8080/getAccountDetails\";\n  var request = new XMLHttpRequest(); // create a connection\n  request.open('POST', url);\n  request.send(); // send the http request\n  request.onload = function() { // When the response comes invoke the following function\n    let data = request.responseText; // store reponse in variable and convert to JSON object\n    if (data.length == 0) {\n      // if not logged in >> show login tab only\n      document.getElementById(\"drop-down-account\").style.display = 'none';\n      document.getElementById(\"drop-down-sales\").style.display = 'none';\n      document.getElementById(\"drop-down-webuse\").style.display = 'none';\n      document.getElementById(\"drop-down-logout\").style.display = 'none';\n\n    } else {\n      userDataObj = JSON.parse(data);\n\n      // document.getElementById(\"drop-down-account\").style.display = 'block';\n      // document.getElementById(\"drop-down-sales\").style.display = 'block';\n      // document.getElementById(\"drop-down-webuse\").style.display = 'block';\n      // document.getElementById(\"drop-down-login\").style.display = 'block';\n      // document.getElementById(\"drop-down-logout\").style.display = 'block';\n\n      // if logged in >> hide login tab\n      document.getElementById(\"drop-down-login\").style.display = 'none';\n      \n      // id not admin >> hide admin tabs\n      if (userDataObj.accountType == \"REGULAR\") {\n        document.getElementById(\"register-admin-form\").style.display = 'none';\n        document.getElementById(\"drop-down-sales\").style.display = 'none';\n        document.getElementById(\"drop-down-webuse\").style.display = 'none';\n      }\n    }\n  }\n}\n\nconst DropDown = (props) => {\n\n  return (\n    <div className={`drop-down-sidebar ${props.rootClassName} `} onLoad={getAccountDetails}>\n      <nav className=\"drop-down-nav\">\n        <Link to=\"/account\" className=\"drop-down-text\" id=\"drop-down-account\">\n          <span>Account</span>\n        </Link>\n        <Link to=\"/monthlysale\" className=\"drop-down-text1\" id=\"drop-down-sales\">\n          <span>Sale Reports</span>\n        </Link>\n        <Link to=\"/webusage\" className=\"drop-down-text2\" id=\"drop-down-webuse\">\n          <span>Web Usage Reports</span>\n        </Link>\n        <Link to=\"/loginPage\" className=\"drop-down-text3\" id=\"drop-down-login\">\n          <span>Login</span>\n        </Link>\n        <span className=\"drop-down-text4\" id=\"drop-down-logout\">Logout</span>\n      </nav>\n    </div>\n  )\n}\n\nDropDown.defaultProps = {\n  rootClassName: '',\n}\n\nDropDown.propTypes = {\n  rootClassName: PropTypes.string,\n}\n\nexport default DropDown\n"],"mappings":"8VAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,OAASC,IAAI,KAAQ,kBAAkB,CAIvC,MAAO,iBAAiB,QAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAExB,GAAI,CAAAC,WAAW,CAEf,GAAM,CAAAC,iBAAiB,6BAAAC,IAAA,CAAAC,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAG,SAAAC,QAAMC,CAAC,MAAAC,GAAA,CAAAC,OAAA,QAAAL,mBAAA,GAAAM,IAAA,UAAAC,SAAAC,QAAA,iBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,SAC/BP,CAAC,CAACQ,cAAc,EAAE,CAEdP,GAAG,CAAC,yCAAyC,CAC7CC,OAAO,CAAG,GAAI,CAAAO,cAAc,EAAE,CAAE;AACpCP,OAAO,CAACQ,IAAI,CAAC,MAAM,CAAET,GAAG,CAAC,CACzBC,OAAO,CAACS,IAAI,EAAE,CAAE;AAChBT,OAAO,CAACU,MAAM,CAAG,UAAW,CAAE;AAC5B,GAAI,CAAAC,IAAI,CAAGX,OAAO,CAACY,YAAY,CAAE;AACjC,GAAID,IAAI,CAACE,MAAM,EAAI,CAAC,CAAE,CACpB;AACAC,QAAQ,CAACC,cAAc,CAAC,mBAAmB,CAAC,CAACC,KAAK,CAACC,OAAO,CAAG,MAAM,CACnEH,QAAQ,CAACC,cAAc,CAAC,iBAAiB,CAAC,CAACC,KAAK,CAACC,OAAO,CAAG,MAAM,CACjEH,QAAQ,CAACC,cAAc,CAAC,kBAAkB,CAAC,CAACC,KAAK,CAACC,OAAO,CAAG,MAAM,CAClEH,QAAQ,CAACC,cAAc,CAAC,kBAAkB,CAAC,CAACC,KAAK,CAACC,OAAO,CAAG,MAAM,CAEpE,CAAC,IAAM,CACL1B,WAAW,CAAG2B,IAAI,CAACC,KAAK,CAACR,IAAI,CAAC,CAE9B;AACA;AACA;AACA;AACA;AAEA;AACAG,QAAQ,CAACC,cAAc,CAAC,iBAAiB,CAAC,CAACC,KAAK,CAACC,OAAO,CAAG,MAAM,CAEjE;AACA,GAAI1B,WAAW,CAAC6B,WAAW,EAAI,SAAS,CAAE,CACxCN,QAAQ,CAACC,cAAc,CAAC,qBAAqB,CAAC,CAACC,KAAK,CAACC,OAAO,CAAG,MAAM,CACrEH,QAAQ,CAACC,cAAc,CAAC,iBAAiB,CAAC,CAACC,KAAK,CAACC,OAAO,CAAG,MAAM,CACjEH,QAAQ,CAACC,cAAc,CAAC,kBAAkB,CAAC,CAACC,KAAK,CAACC,OAAO,CAAG,MAAM,CACpE,CACF,CACF,CAAC,yBAAAd,QAAA,CAAAkB,IAAA,MAAAxB,OAAA,GACF,kBApCK,CAAAL,iBAAiBA,CAAA8B,EAAA,SAAA7B,IAAA,CAAA8B,KAAA,MAAAC,SAAA,OAoCtB,CAED,GAAM,CAAAC,QAAQ,CAAG,QAAX,CAAAA,QAAQA,CAAIC,KAAK,CAAK,CAE1B,mBACEtC,IAAA,QAAKuC,SAAS,sBAAAC,MAAA,CAAuBF,KAAK,CAACG,aAAa,KAAI,CAACC,MAAM,CAAEtC,iBAAkB,CAAAuC,QAAA,cACrFzC,KAAA,QAAKqC,SAAS,CAAC,eAAe,CAAAI,QAAA,eAC5B3C,IAAA,CAACF,IAAI,EAAC8C,EAAE,CAAC,UAAU,CAACL,SAAS,CAAC,gBAAgB,CAACM,EAAE,CAAC,mBAAmB,CAAAF,QAAA,cACnE3C,IAAA,SAAA2C,QAAA,CAAM,SAAO,EAAO,EACf,cACP3C,IAAA,CAACF,IAAI,EAAC8C,EAAE,CAAC,cAAc,CAACL,SAAS,CAAC,iBAAiB,CAACM,EAAE,CAAC,iBAAiB,CAAAF,QAAA,cACtE3C,IAAA,SAAA2C,QAAA,CAAM,cAAY,EAAO,EACpB,cACP3C,IAAA,CAACF,IAAI,EAAC8C,EAAE,CAAC,WAAW,CAACL,SAAS,CAAC,iBAAiB,CAACM,EAAE,CAAC,kBAAkB,CAAAF,QAAA,cACpE3C,IAAA,SAAA2C,QAAA,CAAM,mBAAiB,EAAO,EACzB,cACP3C,IAAA,CAACF,IAAI,EAAC8C,EAAE,CAAC,YAAY,CAACL,SAAS,CAAC,iBAAiB,CAACM,EAAE,CAAC,iBAAiB,CAAAF,QAAA,cACpE3C,IAAA,SAAA2C,QAAA,CAAM,OAAK,EAAO,EACb,cACP3C,IAAA,SAAMuC,SAAS,CAAC,iBAAiB,CAACM,EAAE,CAAC,kBAAkB,CAAAF,QAAA,CAAC,QAAM,EAAO,GACjE,EACF,CAEV,CAAC,CAEDN,QAAQ,CAACS,YAAY,CAAG,CACtBL,aAAa,CAAE,EACjB,CAAC,CAMD,cAAe,CAAAJ,QAAQ"},"metadata":{},"sourceType":"module","externalDependencies":[]}