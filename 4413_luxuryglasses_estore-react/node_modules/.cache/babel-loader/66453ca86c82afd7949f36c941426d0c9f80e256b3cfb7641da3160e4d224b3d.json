{"ast":null,"code":"import _regeneratorRuntime from\"/Users/amandama/Documents/GitHub/EECS4413-Project/4413_luxuryglasses_estore-react/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/amandama/Documents/GitHub/EECS4413-Project/4413_luxuryglasses_estore-react/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import React,{useState}from'react';import{Link,useNavigate}from'react-router-dom';import'./drop-down.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var navigate=useNavigate();var NavigateToAccount=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:e.preventDefault();if(checkIsLoggedIn){navigate('/account');}else{alert(\"please login.\");}case 2:case\"end\":return _context.stop();}},_callee);}));return function NavigateToAccount(_x){return _ref.apply(this,arguments);};}();var NavigateToSales=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(e){return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:e.preventDefault();if(checkIsLoggedIn){// is admin\nuserDataObj=JSON.parse(data);if(userDataObj.accountType==\"ADMIN\"){navigate('/monthlysale');}else{alert(\"not an admin.\");}}else{alert(\"please login.\");}case 2:case\"end\":return _context2.stop();}},_callee2);}));return function NavigateToSales(_x2){return _ref2.apply(this,arguments);};}();var NavigateToWebUsage=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(e){return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1)switch(_context3.prev=_context3.next){case 0:e.preventDefault();if(checkIsLoggedIn){// is admin\nuserDataObj=JSON.parse(data);if(userDataObj.accountType==\"ADMIN\"){navigate('/webusage');}else{alert(\"not an admin.\");}}else{alert(\"please login.\");}case 2:case\"end\":return _context3.stop();}},_callee3);}));return function NavigateToWebUsage(_x3){return _ref3.apply(this,arguments);};}();var NavigateToLogin=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee4(e){return _regeneratorRuntime().wrap(function _callee4$(_context4){while(1)switch(_context4.prev=_context4.next){case 0:e.preventDefault();if(checkIsLoggedIn){alert(\"already logged in.\");}else{navigate('/loginPage');}case 2:case\"end\":return _context4.stop();}},_callee4);}));return function NavigateToLogin(_x4){return _ref4.apply(this,arguments);};}();var NavigateToLogout=/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee5(e){return _regeneratorRuntime().wrap(function _callee5$(_context5){while(1)switch(_context5.prev=_context5.next){case 0:e.preventDefault();alert(\"perform logout\");case 2:case\"end\":return _context5.stop();}},_callee5);}));return function NavigateToLogout(_x5){return _ref5.apply(this,arguments);};}();var userDataObj;var checkIsLoggedIn=/*#__PURE__*/function(){var _ref6=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee6(e){var url,request;return _regeneratorRuntime().wrap(function _callee6$(_context6){while(1)switch(_context6.prev=_context6.next){case 0:e.preventDefault();url=\"http://localhost:8080/getAccountDetails\";request=new XMLHttpRequest();// create a connection\nrequest.open('POST',url);request.send();// send the http request\nrequest.onload=function(){// When the response comes invoke the following function\nvar data=request.responseText;// store reponse in variable and convert to JSON object\nif(data.length==0){return false;}else{return true;}};case 6:case\"end\":return _context6.stop();}},_callee6);}));return function checkIsLoggedIn(_x6){return _ref6.apply(this,arguments);};}();var DropDown=function DropDown(props){// const [isAdmin, setIsAdmin] = useState(false);\n// const [isLoggedIn, setIsLoggedIn] = useState(false);\n// var userDataObj;\n// useEffect(() => {\n//   alert(\"useEffect drop-down\");\n//   var url=\"http://localhost:8080/getAccountDetails\";\n//   var request = new XMLHttpRequest(); // create a connection\n//   request.open('POST', url);\n//   request.send(); // send the http request\n//   request.onload = function() { // When the response comes invoke the following function\n//     let data = request.responseText; // store reponse in variable and convert to JSON object\n//     if (data.length == 0) {\n//       // set not logged in >> only show login tab\n//       setIsLoggedIn(false);\n//       document.getElementById(\"drop-down-logout\").style.display = 'none';\n//     } else {\n//       userDataObj = JSON.parse(data);\n//       // set is logged in\n//       setIsLoggedIn(true);\n//       // if is admin >> sho admin tabs\n//       if (userDataObj.accountType == \"ADMIN\") {\n//         setIsAdmin(true);\n//       }\n//     }\n//   }\n// });\nreturn/*#__PURE__*/_jsx(\"div\",{className:\"drop-down-sidebar \".concat(props.rootClassName,\" \"),children:/*#__PURE__*/_jsxs(\"nav\",{className:\"drop-down-nav\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"drop-down-text\",id:\"drop-down-account\",onClick:NavigateToAccount,children:\"Account\"}),/*#__PURE__*/_jsx(\"span\",{className:\"drop-down-text1\",id:\"drop-down-sales\",onClick:NavigateToSales,children:\"Sale Reports\"}),/*#__PURE__*/_jsx(\"span\",{className:\"drop-down-text2\",id:\"drop-down-webuse\",onClick:NavigateToWebUsage,children:\"Web Usage Reports\"}),/*#__PURE__*/_jsx(\"span\",{className:\"drop-down-text3\",id:\"drop-down-login\",onClick:NavigateToLogin,children:\"Login\"}),/*#__PURE__*/_jsx(\"span\",{className:\"drop-down-text4\",id:\"drop-down-logout\",onClick:NavigateToLogout,children:\"Logout\"})]})});};DropDown.defaultProps={rootClassName:''};export default DropDown;","map":{"version":3,"names":["React","useState","Link","useNavigate","jsx","_jsx","jsxs","_jsxs","navigate","NavigateToAccount","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","e","wrap","_callee$","_context","prev","next","preventDefault","checkIsLoggedIn","alert","stop","_x","apply","arguments","NavigateToSales","_ref2","_callee2","_callee2$","_context2","userDataObj","JSON","parse","data","accountType","_x2","NavigateToWebUsage","_ref3","_callee3","_callee3$","_context3","_x3","NavigateToLogin","_ref4","_callee4","_callee4$","_context4","_x4","NavigateToLogout","_ref5","_callee5","_callee5$","_context5","_x5","_ref6","_callee6","url","request","_callee6$","_context6","XMLHttpRequest","open","send","onload","responseText","length","_x6","DropDown","props","className","concat","rootClassName","children","id","onClick","defaultProps"],"sources":["/Users/amandama/Documents/GitHub/EECS4413-Project/4413_luxuryglasses_estore-react/src/components/drop-down.js"],"sourcesContent":["import React, { useState } from 'react'\nimport { Link, useNavigate } from 'react-router-dom'\n\nimport PropTypes from 'prop-types'\n\nimport './drop-down.css'\n\nconst navigate = useNavigate();\n\nconst NavigateToAccount = async(e) => {\n  e.preventDefault();\n  if (checkIsLoggedIn) {\n    navigate('/account');\n  }\n  else {\n    alert(\"please login.\");\n  }\n}\n\nconst NavigateToSales = async(e) => {\n  e.preventDefault();\n  if (checkIsLoggedIn) {\n    // is admin\n    userDataObj = JSON.parse(data);\n    if (userDataObj.accountType == \"ADMIN\") {\n      navigate('/monthlysale');\n    }\n    else {\n      alert(\"not an admin.\");\n    }\n  }\n  else {\n    alert(\"please login.\");\n  }\n  \n  \n}\n\nconst NavigateToWebUsage = async(e) => {\n  e.preventDefault();\n  if (checkIsLoggedIn) {\n    // is admin\n    userDataObj = JSON.parse(data);\n    if (userDataObj.accountType == \"ADMIN\") {\n      navigate('/webusage');\n    }\n    else {\n      alert(\"not an admin.\");\n    }\n  }\n  else {\n    alert(\"please login.\");\n  }\n}\n\nconst NavigateToLogin= async(e) => {\n  e.preventDefault();\n  if (checkIsLoggedIn) {\n    alert(\"already logged in.\");\n  }\n  else {\n    navigate('/loginPage');\n  }\n}\n\nconst NavigateToLogout = async(e) => {\n  e.preventDefault();\n  alert(\"perform logout\");\n}\n\nvar userDataObj;\n\nconst checkIsLoggedIn = async(e) => {\n  e.preventDefault();\n  var url=\"http://localhost:8080/getAccountDetails\";\n  var request = new XMLHttpRequest(); // create a connection\n  request.open('POST', url);\n  request.send(); // send the http request\n  request.onload = function() { // When the response comes invoke the following function\n    let data = request.responseText; // store reponse in variable and convert to JSON object\n    if (data.length == 0) {\n      return false;\n    } else {\n      return true;\n    }\n  }\n}\n\nconst DropDown = (props) => {\n  // const [isAdmin, setIsAdmin] = useState(false);\n  // const [isLoggedIn, setIsLoggedIn] = useState(false);\n  // var userDataObj;\n\n  // useEffect(() => {\n  //   alert(\"useEffect drop-down\");\n  \n  //   var url=\"http://localhost:8080/getAccountDetails\";\n  //   var request = new XMLHttpRequest(); // create a connection\n  //   request.open('POST', url);\n  //   request.send(); // send the http request\n  //   request.onload = function() { // When the response comes invoke the following function\n  //     let data = request.responseText; // store reponse in variable and convert to JSON object\n  //     if (data.length == 0) {\n  //       // set not logged in >> only show login tab\n  //       setIsLoggedIn(false);\n  //       document.getElementById(\"drop-down-logout\").style.display = 'none';\n  \n  //     } else {\n  //       userDataObj = JSON.parse(data);\n  \n  //       // set is logged in\n  //       setIsLoggedIn(true);\n        \n  //       // if is admin >> sho admin tabs\n  //       if (userDataObj.accountType == \"ADMIN\") {\n  //         setIsAdmin(true);\n  //       }\n  //     }\n  //   }\n  // });\n\n  return (\n    <div className={`drop-down-sidebar ${props.rootClassName} `}>\n      <nav className=\"drop-down-nav\">\n        <span className=\"drop-down-text\" id=\"drop-down-account\" onClick={NavigateToAccount}>Account</span>\n\n        <span className=\"drop-down-text1\" id=\"drop-down-sales\" onClick={NavigateToSales}>Sale Reports</span>\n\n        <span className=\"drop-down-text2\" id=\"drop-down-webuse\" onClick={NavigateToWebUsage}>Web Usage Reports</span>\n\n        <span className=\"drop-down-text3\" id=\"drop-down-login\" onClick={NavigateToLogin}>Login</span>\n\n        <span className=\"drop-down-text4\" id=\"drop-down-logout\" onClick={NavigateToLogout}>Logout</span>\n      </nav>\n    </div>\n  )\n}\n\nDropDown.defaultProps = {\n  rootClassName: '',\n}\n\nDropDown.propTypes = {\n  rootClassName: PropTypes.string,\n}\n\nexport default DropDown\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}