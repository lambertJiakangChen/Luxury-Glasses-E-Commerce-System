{"ast":null,"code":"import _regeneratorRuntime from\"/Users/anushanarraidoo/Documents/GitHub/EECS4413-Project/4413_luxuryglasses_estore-react/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/anushanarraidoo/Documents/GitHub/EECS4413-Project/4413_luxuryglasses_estore-react/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import React from'react';import'./ordersummary.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Ordersummary=function Ordersummary(props){var getOrderSummary=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){var total,url,request;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:total=0.0;e.preventDefault();url=\"http://localhost:8080/cart/getTotal\";request=new XMLHttpRequest();request.open('POST',url);request.send();request.onload=function(){var data=request.responseText;if(data.length==0){document.getElementById(\"ordersummary-subTotal-output\").innerHTML=\"Error\";document.getElementById(\"ordersummary-tax-output\").innerHTML=\"Error\";document.getElementById(\"ordersummary-total-output\").innerHTML=\"Error\";}else{var cartDataObj=JSON.parse(data);total+=parseFloat(cartDataObj);var tax=0.02*parseFloat(cartDataObj);total+=tax;document.getElementById(\"ordersummary-subTotal-output\").innerHTML=\"$\"+cartDataObj;document.getElementById(\"ordersummary-tax-output\").innerHTML=\"$\"+tax;document.getElementById(\"ordersummary-total-output\").innerHTML=\"$\"+total;}};case 7:case\"end\":return _context.stop();}},_callee);}));return function getOrderSummary(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{id:\"ordersummary\",className:\"ordersummary-ordersummary \".concat(props.rootClassName,\" \"),onLoad:getOrderSummary,children:[/*#__PURE__*/_jsx(\"span\",{className:\"ordersummary-title\",children:/*#__PURE__*/_jsx(\"span\",{className:\"\",children:\"Order Summary\"})}),/*#__PURE__*/_jsx(\"span\",{className:\"ordersummary-subTotal\",children:/*#__PURE__*/_jsx(\"span\",{className:\"\",children:\"Sub total\"})}),/*#__PURE__*/_jsx(\"span\",{className:\"ordersummary-tax\",children:/*#__PURE__*/_jsx(\"span\",{className:\"\",children:\"Tax\"})}),/*#__PURE__*/_jsx(\"span\",{className:\"ordersummary-shipping\",children:/*#__PURE__*/_jsx(\"span\",{className:\"\",children:\"Shipping\"})}),/*#__PURE__*/_jsx(\"span\",{className:\"ordersummary-total\",children:/*#__PURE__*/_jsx(\"span\",{className:\"\",children:\"Total\"})}),/*#__PURE__*/_jsx(\"span\",{className:\"ordersummary-total-output\",children:props.text}),/*#__PURE__*/_jsx(\"span\",{className:\"ordersummary-shipping-output\",children:props.text1}),/*#__PURE__*/_jsx(\"span\",{className:\"ordersummary-tax-output\",children:props.text2}),/*#__PURE__*/_jsx(\"span\",{className:\"ordersummary-subTotal-output\",children:props.text3})]});};Ordersummary.defaultProps={text1:'Free',text2:'$3.45',rootClassName:'',text3:'$316.55',text:'$320.45'};export default Ordersummary;","map":{"version":3,"names":["React","jsx","_jsx","jsxs","_jsxs","Ordersummary","props","getOrderSummary","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","e","total","url","request","wrap","_callee$","_context","prev","next","preventDefault","XMLHttpRequest","open","send","onload","data","responseText","length","document","getElementById","innerHTML","cartDataObj","JSON","parse","parseFloat","tax","stop","_x","apply","arguments","id","className","concat","rootClassName","onLoad","children","text","text1","text2","text3","defaultProps"],"sources":["/Users/anushanarraidoo/Documents/GitHub/EECS4413-Project/4413_luxuryglasses_estore-react/src/components/ordersummary.js"],"sourcesContent":["import React from 'react'\n\nimport PropTypes from 'prop-types'\n\nimport './ordersummary.css'\n\nconst Ordersummary = (props) => {\n\n\tconst getOrderSummary = async(e) => {\n\t    var total = 0.0;\n\t    e.preventDefault();\n\t\n\t    var url=\"http://localhost:8080/cart/getTotal\";\n\t    var request = new XMLHttpRequest();\n\t    request.open('POST', url);\n\t    request.send();\n\t    request.onload = function() {\n\t      let data = request.responseText;\n\t      if (data.length == 0) {\n\t\t\t  document.getElementById(\"ordersummary-subTotal-output\").innerHTML = \"Error\";\n\t\t\t  document.getElementById(\"ordersummary-tax-output\").innerHTML = \"Error\";\n\t\t\t  document.getElementById(\"ordersummary-total-output\").innerHTML = \"Error\";\n\t      } else {\n\t\t\t  var cartDataObj = JSON.parse(data);\n\t\t\t  \n\t\t\t  total += parseFloat(cartDataObj);\n\t\t\t  var tax = 0.02 * parseFloat(cartDataObj);\n\t\t\t  total += tax;\n\t\t\t  \n\t\t\t  document.getElementById(\"ordersummary-subTotal-output\").innerHTML = \"$\" + cartDataObj;\n\t\t\t  document.getElementById(\"ordersummary-tax-output\").innerHTML = \"$\" + tax;\n\t\t\t  document.getElementById(\"ordersummary-total-output\").innerHTML = \"$\" + total;\n\t      }\n\t    }\n  }\n\t\n  return (\n    <div\n      id=\"ordersummary\"\n      className={`ordersummary-ordersummary ${props.rootClassName} `}\n      onLoad={getOrderSummary}\n    >\n      <span className=\"ordersummary-title\">\n        <span className=\"\">Order Summary</span>\n      </span>\n      <span className=\"ordersummary-subTotal\">\n        <span className=\"\">Sub total</span>\n      </span>\n      <span className=\"ordersummary-tax\">\n        <span className=\"\">Tax</span>\n      </span>\n      <span className=\"ordersummary-shipping\">\n        <span className=\"\">Shipping</span>\n      </span>\n      <span className=\"ordersummary-total\">\n        <span className=\"\">Total</span>\n      </span>\n      <span className=\"ordersummary-total-output\">{props.text}</span>\n      <span className=\"ordersummary-shipping-output\">{props.text1}</span>\n      <span className=\"ordersummary-tax-output\">{props.text2}</span>\n      <span className=\"ordersummary-subTotal-output\">{props.text3}</span>\n    </div>\n  )\n}\n\nOrdersummary.defaultProps = {\n  text1: 'Free',\n  text2: '$3.45',\n  rootClassName: '',\n  text3: '$316.55',\n  text: '$320.45',\n}\n\nOrdersummary.propTypes = {\n  text1: PropTypes.string,\n  text2: PropTypes.string,\n  rootClassName: PropTypes.string,\n  text3: PropTypes.string,\n  text: PropTypes.string,\n}\n\nexport default Ordersummary\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}