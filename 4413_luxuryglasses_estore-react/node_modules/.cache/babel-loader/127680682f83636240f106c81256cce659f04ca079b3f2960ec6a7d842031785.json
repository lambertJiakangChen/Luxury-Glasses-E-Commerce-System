{"ast":null,"code":"import _regeneratorRuntime from\"/Users/amandama/Documents/GitHub/EECS4413-Project/4413_luxuryglasses_estore-react/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/amandama/Documents/GitHub/EECS4413-Project/4413_luxuryglasses_estore-react/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import React from'react';import{Link}from'react-router-dom';import{Helmet}from'react-helmet';import Navbar from'../components/navbar';import CartEmpty from'../components/cart-empty';import CartItemCard from'../components/cart-item-card';import Footer from'../components/footer';import'./view-cart.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function ViewCart(props){var getNumberOfItemsAndTotal=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){var numberOfItems,total,url,request;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:numberOfItems=0;total=0.0;e.preventDefault();url=\"http://localhost:8080/cart/getAllItems\";request=new XMLHttpRequest();// create a connection\nrequest.open('POST',url);request.send();// send the http request\nrequest.onload=function(){// When the response comes invoke the following function\nvar data=request.responseText;// store reponse in variable and convert to JSON object\nif(data.length==0){document.getElementById(\"title-subtotal\").innerHTML=\"SUBTOTAL (0)\";}else{var cartDataObj=JSON.parse(data);for(var _i=0,_Object$entries=Object.entries(cartDataObj);_i<_Object$entries.length;_i++){var item=_Object$entries[_i];numberOfItems+=item[1].quantity;total+=item[1].totalPrice;}document.getElementById(\"title-subtotal\").innerHTML=\"SUBTOTAL (\"+numberOfItems+\")\";document.getElementById(\"subtotal-replace\").innerHTML=\"$\"+total;}};case 8:case\"end\":return _context.stop();}},_callee);}));return function getNumberOfItemsAndTotal(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{className:\"view-cart-container\",onLoad:getNumberOfItemsAndTotal,children:[/*#__PURE__*/_jsxs(Helmet,{children:[/*#__PURE__*/_jsx(\"title\",{children:\"ViewCart - 4413_LuxuryGlasses_EStore\"}),/*#__PURE__*/_jsx(\"meta\",{property:\"og:title\",content:\"ViewCart - 4413_LuxuryGlasses_EStore\"})]}),/*#__PURE__*/_jsx(Navbar,{}),/*#__PURE__*/_jsx(\"div\",{className:\"view-cart-main\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"view-cart-container1 section-container\",children:[/*#__PURE__*/_jsx(\"h1\",{id:\"title-cart\",className:\"view-cart-text\",children:\"SHOPPING CART\"}),/*#__PURE__*/_jsx(CartEmpty,{rootClassName:\"cart-empty-root-class-name\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"view-cart-container2\",children:[/*#__PURE__*/_jsxs(\"div\",{id:\"cart-all-items\",className:\"view-cart-container3\",children:[/*#__PURE__*/_jsx(CartItemCard,{}),/*#__PURE__*/_jsx(CartItemCard,{})]}),/*#__PURE__*/_jsxs(\"div\",{id:\"cart-total\",className:\"view-cart-container4\",children:[/*#__PURE__*/_jsx(\"h3\",{id:\"title-subtotal\",children:\"SUBTOTAL\"}),/*#__PURE__*/_jsx(\"p\",{id:\"subtotal-replace\",className:\"view-cart-text2\",children:\"$\"}),/*#__PURE__*/_jsx(Link,{to:\"/checkout-login\",id:\"checkout-btn\",name:\"checkout\",className:\"view-cart-navlink button\",children:\"CHECKOUT\"})]})]})]})}),/*#__PURE__*/_jsx(Footer,{})]});}export default ViewCart;","map":{"version":3,"names":["React","Link","Helmet","Navbar","CartEmpty","CartItemCard","Footer","jsx","_jsx","jsxs","_jsxs","ViewCart","props","getNumberOfItemsAndTotal","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","e","numberOfItems","total","url","request","wrap","_callee$","_context","prev","next","preventDefault","XMLHttpRequest","open","send","onload","data","responseText","length","document","getElementById","innerHTML","cartDataObj","JSON","parse","_i","_Object$entries","Object","entries","item","quantity","totalPrice","stop","_x","apply","arguments","className","onLoad","children","property","content","id","rootClassName","to","name"],"sources":["/Users/amandama/Documents/GitHub/EECS4413-Project/4413_luxuryglasses_estore-react/src/views/view-cart.js"],"sourcesContent":["import React from 'react'\nimport { Link } from 'react-router-dom'\n\nimport { Helmet } from 'react-helmet'\n\nimport Navbar from '../components/navbar'\nimport CartEmpty from '../components/cart-empty'\nimport CartItemCard from '../components/cart-item-card'\nimport Footer from '../components/footer'\nimport './view-cart.css'\n\nfunction ViewCart(props) {\n\n  const getNumberOfItemsAndTotal = async(e) => {\n    var numberOfItems = 0;\n    var total = 0.0;\n    e.preventDefault();\n\n    var url=\"http://localhost:8080/cart/getAllItems\";\n    var request = new XMLHttpRequest(); // create a connection\n    request.open('POST', url);\n    request.send(); // send the http request\n    request.onload = function() { // When the response comes invoke the following function\n      let data = request.responseText; // store reponse in variable and convert to JSON object\n      if (data.length == 0) {\n        document.getElementById(\"title-subtotal\").innerHTML = \"SUBTOTAL (0)\";\n      } else {\n        var cartDataObj = JSON.parse(data);\n\n        for (const item of Object.entries(cartDataObj)) {\n          numberOfItems += item[1].quantity;\n          total += item[1].totalPrice;\n        }\n        document.getElementById(\"title-subtotal\").innerHTML = \"SUBTOTAL (\" + numberOfItems + \")\";\n        document.getElementById(\"subtotal-replace\").innerHTML = \"$\" + total;\n      }\n    }\n  }\n\n  return (\n    <div className=\"view-cart-container\" onLoad={getNumberOfItemsAndTotal}>\n      <Helmet>\n        <title>ViewCart - 4413_LuxuryGlasses_EStore</title>\n        <meta\n          property=\"og:title\"\n          content=\"ViewCart - 4413_LuxuryGlasses_EStore\"\n        />\n      </Helmet>\n      <Navbar></Navbar>\n      <div className=\"view-cart-main\">\n        <div className=\"view-cart-container1 section-container\">\n          <h1 id=\"title-cart\" className=\"view-cart-text\">\n            SHOPPING CART\n          </h1>\n          <CartEmpty rootClassName=\"cart-empty-root-class-name\"></CartEmpty>\n          <div className=\"view-cart-container2\">\n            <div id=\"cart-all-items\" className=\"view-cart-container3\">\n              <CartItemCard></CartItemCard>\n              <CartItemCard></CartItemCard>\n            </div>\n            <div id=\"cart-total\" className=\"view-cart-container4\">\n              <h3 id=\"title-subtotal\">SUBTOTAL</h3>\n              <p id=\"subtotal-replace\" className=\"view-cart-text2\">\n                $\n              </p>\n              <Link\n                to=\"/checkout-login\"\n                id=\"checkout-btn\"\n                name=\"checkout\"\n                className=\"view-cart-navlink button\"\n              >\n                CHECKOUT\n              </Link>\n            </div>\n          </div>\n        </div>\n      </div>\n      <Footer></Footer>\n    </div>\n  )\n}\n\nexport default ViewCart\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}