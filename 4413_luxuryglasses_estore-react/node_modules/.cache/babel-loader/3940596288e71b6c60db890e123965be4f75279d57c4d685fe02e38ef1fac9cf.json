{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/lambert/Desktop/EECS4413-Project/4413_luxuryglasses_estore-react/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/lambert/Desktop/EECS4413-Project/4413_luxuryglasses_estore-react/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import React from'react';import{useParams,useNavigate}from'react-router-dom';import'./add-review.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var AddReview=function AddReview(props){var _useParams=useParams(),itemId=_useParams.itemId;var navigate=useNavigate();var submitHandler=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){var rating,comments,userEmail,url,request;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:e.preventDefault();rating=document.getElementById(\"rating-select-review\").value;comments=document.getElementById(\"comments-input-review\").value;userEmail=document.getElementById(\"email-input-review\").value;url=\"http://localhost:8080/catalog/addReview?item=\"+itemId+\"&rating=\"+rating+\"&comments=\"+comments+\"&userEmail=\"+userEmail;request=new XMLHttpRequest();request.open('POST',url);request.send();request.onload=function(){var data=request.responseText;if(data.includes(\"Review added\")){alert(\"Thanks for the review\");var form=document.getElementsByClassName(\"add-review-form\")[0];form.reset();// Reset all form data\nnavigate(\"/productsitem1/\".concat(itemId));return false;}else{alert(\"Error occurred: \"+data);}};case 9:case\"end\":return _context.stop();}},_callee);}));return function submitHandler(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{id:\"add-review-container\",className:\"add-review-container\",children:[/*#__PURE__*/_jsx(\"h3\",{children:props.heading}),/*#__PURE__*/_jsxs(\"form\",{className:\"add-review-form\",onSubmit:submitHandler,children:[/*#__PURE__*/_jsxs(\"label\",{id:\"email-label-review\",htmlFor:\"email-input-review\",className:\"add-review-text1\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"EMAIL\"}),/*#__PURE__*/_jsx(\"br\",{})]}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",id:\"email-input-review\",name:\"email\",pattern:\"^[a-zA-Z0-9_!#$%&'*+/=?`{|}~^.-]+@[a-zA-Z0-9.-]+$\",required:true,placeholder:props.textinput_placeholder,className:\"add-review-textinput input\"}),/*#__PURE__*/_jsx(\"label\",{id:\"comments-label-review\",htmlFor:\"comments-input-review\",className:\"add-review-text4\",children:props.text}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"comments-input-review\",name:\"comments\",required:true,placeholder:props.textinput_placeholder1,className:\"add-review-textinput1 input\"}),/*#__PURE__*/_jsxs(\"select\",{name:\"rating\",id:\"rating-select-review\",className:\"add-review-select\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"1\",children:\"1\"}),/*#__PURE__*/_jsx(\"option\",{value:\"2\",children:\"2\"}),/*#__PURE__*/_jsx(\"option\",{value:\"3\",children:\"3\"}),/*#__PURE__*/_jsx(\"option\",{value:\"4\",children:\"4\"}),/*#__PURE__*/_jsx(\"option\",{value:\"5\",children:\"5\"})]}),/*#__PURE__*/_jsx(\"button\",{id:\"add-review-button\",className:\"add-review-button button\",type:\"submit\",children:props.button})]})]});};AddReview.defaultProps={heading:'Add Review:',textinput_placeholder:'email',text:'COMMENTS',textinput_placeholder1:'comments',button:'Submit Review'};export default AddReview;","map":{"version":3,"names":["React","useParams","useNavigate","jsx","_jsx","jsxs","_jsxs","AddReview","props","_useParams","itemId","navigate","submitHandler","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","e","rating","comments","userEmail","url","request","wrap","_callee$","_context","prev","next","preventDefault","document","getElementById","value","XMLHttpRequest","open","send","onload","data","responseText","includes","alert","form","getElementsByClassName","reset","concat","stop","_x","apply","arguments","id","className","children","heading","onSubmit","htmlFor","type","name","pattern","required","placeholder","textinput_placeholder","text","textinput_placeholder1","button","defaultProps"],"sources":["C:/Users/lambert/Desktop/EECS4413-Project/4413_luxuryglasses_estore-react/src/components/add-review.js"],"sourcesContent":["import React from 'react'\r\nimport { useParams, useNavigate } from 'react-router-dom'\r\nimport PropTypes from 'prop-types'\r\n\r\nimport './add-review.css'\r\n\r\nconst AddReview = (props) => {\r\n\tconst { itemId } = useParams();\r\n\tconst navigate = useNavigate();\r\n\t\r\n  const submitHandler = async(e) => {\r\n\t  e.preventDefault();\r\n\t  \r\n\t  let rating = document.getElementById(\"rating-select-review\").value;\r\n\t  let comments = document.getElementById(\"comments-input-review\").value;\r\n\t  let userEmail = document.getElementById(\"email-input-review\").value;\r\n\t  \r\n      var url= \"http://localhost:8080/catalog/addReview?item=\" + itemId + \"&rating=\" + rating \r\n      + \"&comments=\" + comments + \"&userEmail=\" + userEmail;\r\n      var request = new XMLHttpRequest();\r\n      request.open('POST', url);\r\n      request.send();\r\n      request.onload = function() {\r\n        let data = request.responseText;\r\n        if (data.includes(\"Review added\")){\r\n          alert(\"Thanks for the review\");\r\n          var form = document.getElementsByClassName(\"add-review-form\")[0];\r\n          form.reset();  // Reset all form data\r\n          navigate(`/productsitem1/${itemId}`);\r\n          return false;\r\n        } else {\r\n          alert(\"Error occurred: \" + data);\r\n        }\r\n      }\r\n  }\r\n\t\r\n  return (\r\n    <div id=\"add-review-container\" className=\"add-review-container\">\r\n      <h3>{props.heading}</h3>\r\n      <form className=\"add-review-form\" onSubmit={submitHandler}>\r\n        <label\r\n          id=\"email-label-review\"\r\n          htmlFor=\"email-input-review\"\r\n          className=\"add-review-text1\"\r\n        >\r\n          <span>EMAIL</span>\r\n          <br></br>\r\n        </label>\r\n        <input\r\n          type=\"email\"\r\n          id=\"email-input-review\"\r\n          name=\"email\"\r\n          pattern=\"^[a-zA-Z0-9_!#$%&'*+/=?`{|}~^.-]+@[a-zA-Z0-9.-]+$\"\r\n          required\r\n          placeholder={props.textinput_placeholder}\r\n          className=\"add-review-textinput input\"\r\n        />\r\n        <label\r\n          id=\"comments-label-review\"\r\n          htmlFor=\"comments-input-review\"\r\n          className=\"add-review-text4\"\r\n        >\r\n          {props.text}\r\n        </label>\r\n        <input\r\n          type=\"text\"\r\n          id=\"comments-input-review\"\r\n          name=\"comments\"\r\n          required\r\n          placeholder={props.textinput_placeholder1}\r\n          className=\"add-review-textinput1 input\"\r\n        />\r\n        <select\r\n          name=\"rating\"\r\n          id=\"rating-select-review\"\r\n          className=\"add-review-select\"\r\n        >\r\n          <option value=\"1\">1</option>\r\n          <option value=\"2\">2</option>\r\n          <option value=\"3\">3</option>\r\n          <option value=\"4\">4</option>\r\n          <option value=\"5\">5</option>\r\n        </select>\r\n        <button id=\"add-review-button\" className=\"add-review-button button\" type=\"submit\">\r\n          {props.button}\r\n        </button>\r\n      </form>\r\n    </div>\r\n  )\r\n}\r\n\r\nAddReview.defaultProps = {\r\n  heading: 'Add Review:',\r\n  textinput_placeholder: 'email',\r\n  text: 'COMMENTS',\r\n  textinput_placeholder1: 'comments',\r\n  button: 'Submit Review',\r\n}\r\n\r\nAddReview.propTypes = {\r\n  heading: PropTypes.string,\r\n  textinput_placeholder: PropTypes.string,\r\n  text: PropTypes.string,\r\n  textinput_placeholder1: PropTypes.string,\r\n  button: PropTypes.string,\r\n}\r\n\r\nexport default AddReview"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}